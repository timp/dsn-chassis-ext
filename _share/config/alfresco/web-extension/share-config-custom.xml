<alfresco-config>

    <config evaluator="string-compare" condition="Server">
        <server>
            <!-- Enable and adjust the following settings to allow for external access URLs to the
            WebScript Framework - to return an externally accessible address for absolute url generation.-->
            <scheme>http</scheme>
            <hostname>IXDV1210.ixxus.co.uk</hostname>
            <port>8080</port>
        </server>
    </config>

    <!--Overriding endpoints to reference a remote Alfresco server &ndash;&gt;-->

    <config evaluator="string-compare" condition="Remote">
        <remote>
            <!-- Connector Implementations
               <connector>
                   <id>http</id>
                   <name>Simple Http Connector</name>
                   <description>Simple HTTP Connector</description>
                   <class>org.springframework.extensions.webscripts.connector.HttpConnector</class>
               </connector>-->

            <!-- Connects to an Alfresco instance using ticket-based authentication, overrides the default alfresco connector to use ticket authenticator -->
            <connector>
                <id>alfresco</id>
                <name>Alfresco Connector</name>
                <description>Connects to an Alfresco instance using ticket-based authentication</description>
                <class>org.springframework.extensions.webscripts.connector.AlfrescoConnector</class>
                <authenticator-id>alfresco-ticket</authenticator-id>
            </connector>

            <!-- Authenticator Implementation used in CAS authentication scenario, overrides the default alfresco-ticket authenticator
                <class>org.alfresco.connector.AlfrescoAuthenticator</class>
            <authenticator>
                <id>alfresco-ticket</id>
                <name>Alfresco Authenticator</name>
                <description>Alfresco Authenticator</description>

                <class>org.wwarn.cms.authentication.CasAlfrescoAuthenticator</class>
            </authenticator>

            <endpoint>
                <id>alfresco</id>
                <name>Alfresco - user access</name>
                <description>Access to Alfresco Repository WebScripts that require external user authentication
                </description>
                <connector-id>alfresco</connector-id>
                <endpoint-url>http://IXDV1210.ixxus.co.uk:8080/alfresco/s</endpoint-url>
                <identity>user</identity>
                <external-auth>true</external-auth>
            </endpoint>-->

            <endpoint>
                <id>alfresco-system</id>
                <name>Alfresco - System access</name>
                <description>System account access to Alfresco</description>
                <connector-id>alfresco</connector-id>
                <endpoint-url>http://IXDV1210.ixxus.co.uk:8080/alfresco/s</endpoint-url>
                <identity>declared</identity>
                <username>admin</username>
                <password>admin</password>
                <unsecure>true</unsecure>
            </endpoint>

            <endpoint>
                <id>alfresco-noauth</id>
                <name>Alfresco - unauthenticated access</name>
                <description>Access to Alfresco Repository WebScripts that do not require authentication</description>
                <connector-id>alfresco</connector-id>
                <endpoint-url>http://IXDV1210.ixxus.co.uk:8080/alfresco/s</endpoint-url>
                <identity>none</identity>
            </endpoint>

        </remote>
    </config>

    <config evaluator="string-compare" condition="DocumentLibrary" replace="true">
        <aspects>
            <!-- Aspects that a user can see -->
            <visible>
                <aspect name="cm:generalclassifiable"/>
                <aspect name="cm:complianceable"/>
                <aspect name="cm:dublincore"/>
                <aspect name="cm:effectivity"/>
                <aspect name="cm:summarizable"/>
                <aspect name="cm:versionable"/>
                <aspect name="cm:templatable"/>
                <aspect name="cm:emailed"/>
                <aspect name="emailserver:aliasable"/>
                <aspect name="cm:taggable"/>
                <aspect name="app:inlineeditable"/>
            </visible>

            <!-- Aspects that a user can add. Same as "visible" if left empty -->
            <addable>
            </addable>

            <!-- Aspects that a user can remove. Same as "visible" if left empty -->
            <removeable>
            </removeable>
        </aspects>

        <types>
        </types>
    </config>

    <!-- Metadata form definitions for WWARN File types -->

    <config evaluator="node-type" condition="wc:data_file">
        <forms>
            <form>
                <field-visibility>
                    <!-- cm:content -->
                    <show id="cm:name"/>
                    <show id="cm:title" force="true"/>
                    <show id="cm:description" force="true"/>
                    <show id="mimetype"/>
                    <show id="cm:author" force="true"/>
                    <show id="size" for-mode="view"/>
                    <show id="cm:creator" for-mode="view"/>
                    <show id="cm:created" for-mode="view"/>
                    <show id="cm:modifier" for-mode="view"/>
                    <show id="cm:modified" for-mode="view"/>

                    <!-- wc:file_data -->
                    <show id="wc:file_id"/>
                    <show id="wc:file_source"/>
                    <show id="wc:derivations"/>
                </field-visibility>
                <appearance>
                    <field id="cm:title">
                        <control template="/org/alfresco/components/form/controls/textfield.ftl"/>
                    </field>
                    <field id="cm:description">
                        <control>
                            <control-param name="activateLinks">true</control-param>
                        </control>
                    </field>
                    <field id="mimetype">
                        <control template="/org/alfresco/components/form/controls/mimetype.ftl"/>
                    </field>
                    <field id="size">
                        <control template="/org/alfresco/components/form/controls/size.ftl"/>
                    </field>
                    <field id="cm:taggable">
                        <control>
                            <control-param name="compactMode">true</control-param>
                            <control-param name="params">aspect=cm:taggable</control-param>
                            <control-param name="createNewItemUri">/api/tag/workspace/SpacesStore</control-param>
                            <control-param name="createNewItemIcon">tag</control-param>
                        </control>
                    </field>
                    <field id="cm:categories">
                        <control>
                            <control-param name="compactMode">true</control-param>
                        </control>
                    </field>
                    <set id="wcMetadata" appearance="bordered-panel" label-id="wc.datafile.metadata.header"/>
                    <field id="wc:file_id" label-id="wc.metadata.file_id" set="wcMetadata"/>
                    <field id="wc:file_source" label-id="wc.metadata.file_source" set="wcMetadata"/>
                    <field id="wc:derivations" label-id="wc.metadata.derivations" set="wcMetadata">
                        <control template="/org/alfresco/components/form/controls/association.ftl">
                            <control-param name="displayMode">items</control-param>
                            <control-param name="showTargetLink">true</control-param>
                            <control-param name="compactMode">true</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>
    <config evaluator="model-type" condition="wc:data_file">
        <forms>
            <form id="search">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="cm:title" force="true"/>
                    <show id="cm:description" force="true"/>
                    <show id="mimetype"/>
                    <show id="cm:modified"/>
                    <show id="cm:modifier"/>

                    <!-- wc:file_data -->
                    <show id="wc:file_id" force="true"/>
                    <show id="wc:file_source" force="true"/>
                </field-visibility>
                <appearance>
                    <field id="mimetype">
                        <control template="/org/alfresco/components/form/controls/mimetype.ftl"/>
                    </field>
                    <field id="cm:modifier">
                        <control>
                            <control-param name="forceEditable">true</control-param>
                        </control>
                    </field>
                    <field id="cm:modified">
                        <control template="/org/alfresco/components/form/controls/daterange.ftl"/>
                    </field>
                    <set id="wcMetadata" appearance="bordered-panel" label-id="wc.datafile.metadata.header"/>
                    <field id="wc:file_id" label-id="wc.metadata.file_id" set="wcMetadata"/>
                    <field id="wc:file_source" label-id="wc.metadata.file_source" set="wcMetadata"/>
                </appearance>
            </form>
        </forms>
    </config>


</alfresco-config>
